package com.github.joanersoncosta.api.usuario.domain;

import java.util.UUID;

import com.github.joanersoncosta.api.handler.APIException;


@NoArgsConstructor(access = AccessLevel.PRIVATE)
@Getter
@ToString
@Entity
public class Usuario {
    @Id
    @GeneratedValue(strategy = GenerationType.AUTO)
	@Column(columnDefinition = "uuid", updatable = false, unique = true, nullable = false)
    private UUID idUsuario;
    
    @Email
    private String email;
    
    @CPF
    private String cpf;

    public void validaUsuario(UUID idUsuario) {
        if (!this.idUsuario.equals(idUsuario)) {
            throw APIException.build(HttpStatus.UNAUTHORIZED, "Credencial de autenticação não é válida.");
        }
    }
}
